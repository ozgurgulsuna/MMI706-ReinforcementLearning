% Available on https://gitlab.ethz.ch/bsaverio/ethbeamer
% Created by Saverio Bolognani based on ETH official design

% This file should only customize the style of the layout of the slides

\mode<presentation>

% Redefine \insertshortinstitute to allow multiple lines
\makeatletter
\renewcommand{\insertshortinstitute}{\beamer@shortinstitute}
\makeatother

% Title frame
\def\titlefigure{elements/title-page-truss-2}
\newlength\titleboxwidth
\setlength{\titleboxwidth}{0.8\textwidth}

\newcommand{\titleframe}{%
	{
		\setbeamertemplate{background}{
			\begin{tikzpicture}
			\useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
            
            \node at (current page.center) [anchor=center,yshift = 7mm, xshift = 0mm ] {
                \includegraphics[width=\the\paperwidth-19mm]{\titlefigure}
            };

			\node at (current page.north west) [anchor=base west, xshift=10mm, yshift=-7mm, align=right, inner sep=0mm, font=\fontsize{6.8}{7.0}\selectfont] {
                % \insertshortinstitute
                \textbf{Middle East Technical University} \fontsize{6.8}{7.0}\selectfont Dept. of Electrical and Electronics Engineering 
			};
            \node at (current page.north west) [anchor=base west,yshift = -8.2mm, xshift = 8mm ] {
                \begin{tikzpicture}
                    \draw [black] (0,0) -- (\the\paperwidth-19mm,0);
                \end{tikzpicture}
            };
    		\node at (current page.south west) [anchor=south west, inner sep=0mm, xshift=10mm, yshift=10mm] {
    				\includegraphics[height=9mm]{elements/logo.png}
    		};
    		\node at (current page.south west) [anchor=south west, inner sep=0mm, xshift=35mm, yshift=13mm, font=\fontsize{19}{19} \color{darkgray} \selectfont ] {
                    \textbf{MMI}706
    		};
            \node at (current page.south west) [anchor=south west, inner sep=0mm, xshift=35mm, yshift=10.2mm] {
                \fontsize{6}{5} \color{gray} \selectfont
                \textbf{Reinforcement} Learning
                };
			\end{tikzpicture}
		}
	
        \setbeamertemplate{footline}{}
        \setbeamertemplate{headline}{
        
        }
        
		\begin{frame}[noframenumbering]
			\begin{tikzpicture}
				\useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
				\node [
					shift={(-15mm, 5mm)},
					% fill=titlefgcolor,
					minimum width=0.49\paperwidth,
					minimum height=20mm,
					anchor=west,
					inner sep=5mm
					] at (current page.west) {
                            \hspace*{10mm}
                            \begin{minipage}{\titleboxwidth}
                                \raggedright
                                \large \textbf{\fontsize{11}{18}\selectfont } \\
                                \usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle\\
                                [3mm]
                                \vspace{0.7em}
                                \usebeamerfont{author}\usebeamercolor[fg]{author}\insertauthor\\ 
                                {\it \usebeamerfont{date}\usebeamercolor[fg]{date}\insertdate} \\
                                [13.5mm]
                                % {\it \fontsize{9}{10}\selectfont Presenter: Ozgur Gulsuna  $^{\text{[3]}}$}
                                \vspace{1.3em}
                            \end{minipage}			
					};
			\end{tikzpicture}

		\end{frame}
	}
}

% TOC frame
\newcommand{\tocframe}{%
    \begin{frame}
      \frametitle{Outline}
      \large
      \tableofcontents
    \end{frame}
}

% Section title frame
\AtBeginSection[]
{
    \begin{frame}
      \frametitle{Outline}
      \large
      \tableofcontents[currentsection] 
    \end{frame}
}

\newenvironment{closingframe}{
	\setbeamertemplate{background}{
		\begin{tikzpicture}
		\useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
		\node at (current page.north west) [anchor=base west, xshift=8mm, yshift=-15mm, align=left] {
			\includegraphics[width=20mm]{elements/metu_logo_pos.jpg}
		}; 
		\end{tikzpicture}
	}
	\setbeamertemplate{footline}{}
	\addtolength{\headsep}{10mm}
	\begin{frame}[noframenumbering]
}%
{
	\end{frame}
}%

% Frame title
\setbeamertemplate{frametitle}{
	\vspace{5mm}
	\insertframetitle \\
	\usebeamerfont{framesubtitle}\insertframesubtitle
	\vspace{-2.5mm}
}

% Footline
\setbeamertemplate{footline}{
	\leavevmode%
	\hspace{9mm}
	% \raisebox{-0.1mm}{\includegraphics[width=13mm]{elements/eth_logo_kurz_pos}}
	\raisebox{-0.625mm}{\includegraphics[width=30mm,trim=0mm 0mm 0mm 0mm ]{elements/metu_logo_long.png}}
	\hspace{1.5mm}
	\parbox[b]{32mm}{
		\fontsize{4.5}{5}\selectfont
		\insertshortinstitute
   	}
	\hfill
	\insertshortdate
	\hspace{3mm}
        {\tiny
	\insertframenumber/\inserttotalframenumber}
	\hspace{9mm}
	\vspace{4mm}
}

\mode<all>